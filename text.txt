mkdir jenkins-static-site
cd jenkins-static-site
code .


2) Add docker-compose.yml
Create a new file docker-compose.yml in this folder with the following content:


version: '3.8'
services:
  jenkins:
    image: jenkins/jenkins:lts
    container_name: jenkins
    restart: unless-stopped
    ports:
      - "8080:8080"
      - "50000:50000"
    volumes:
      - jenkins_home:/var/jenkins_home
      # Allows Jenkins to talk to the Docker engine (Linux/macOS Docker Desktop; WSL2 on Windows)
      - /var/run/docker.sock:/var/run/docker.sock

volumes:
  jenkins_home:
    driver: local


✅ If you’re on Windows, ensure Docker Desktop is running (WSL2 backend). The /var/run/docker.sock mount works through Docker’s Linux VM.


3) Start Jenkins
From the VS Code terminal (in the same folder):
docker compose up -d

Check it’s running:
docker ps

Grab the initial admin password:
docker exec jenkins cat /var/jenkins_home/secrets/initialAdminPassword

Copy this value.
Open your browser: http://localhost:8080


Paste the admin password


Install suggested plugins


Create your admin user to finish setup



4) Install the HTML Publisher plugin
In Jenkins UI:


Manage Jenkins → Plugins → Available plugins


Search HTML Publisher


Install (restart Jenkins if prompted)



5) Create the Pipeline job


Jenkins home → New Item


Name: karunya-site-pipeline → choose Pipeline → OK


Scroll to Pipeline section → Definition: Pipeline script


Paste the script below and Save


Pipeline Script (copy all)
pipeline {
  agent any

  stages {
    stage('Generate site') {
      steps {
        script {
          sh 'rm -rf site || true'
          sh 'mkdir -p site/assets'

          writeFile file: 'site/index.html', text: """
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Karunya University — Simple Site</title>
  <link rel="stylesheet" href="assets/style.css"/>
</head>
<body>
  <header class="site-header">
    <div class="container">
      <h1>Karunya University</h1>
      <p class="tagline">Values — Knowledge — Service</p>
    </div>
  </header>

  <main class="container">
    <section class="card">
      <h2>About Karunya University</h2>
      <p>Karunya Institute of Technology and Sciences is a leading centre for higher education in India.</p>
    </section>
  </main>

  <footer class="site-footer container">
    <p>&copy; ${new Date().format('yyyy')} Karunya University — Generated by Jenkins</p>
  </footer>
</body>
</html>
"""

          writeFile file: 'site/assets/style.css', text: """
body { font-family: Arial, sans-serif; margin:0; }
.container { max-width:800px; margin:0 auto; padding:20px; }
.site-header { background:#0b3d91; color:#fff; padding:20px; }
.tagline { font-size:14px; opacity:0.8; }
.card { background:#fff; border:1px solid #ddd; padding:15px; margin:15px 0; border-radius:6px; }
.site-footer { text-align:center; font-size:12px; color:#555; margin-top:20px; }
"""
        }
      }
    }

    stage('Publish site') {
      steps {
        publishHTML([
          allowMissing: false,
          alwaysLinkToLastBuild: true,
          keepAll: true,
          reportDir: 'site',
          reportFiles: 'index.html',
          reportName: 'Karunya University - Simple Site'
        ])
      }
    }
  }

  post {
    always {
      archiveArtifacts artifacts: 'site/**', fingerprint: true
    }
  }
}


6) Run and view the result


Click Build Now


Open the latest build → left menu: Karunya University - Simple Site


You’ll see the static site rendered inside Jenkins




To download artifacts: in the build page → Artifacts → download the site/ folder → open index.html locally



(Optional) Use a Jenkinsfile from your repo
If you prefer keeping the pipeline in source control:


In VS Code, create a repo with a Jenkinsfile containing the same script above.


Push to GitHub.


In Jenkins job → Pipeline → Definition: Pipeline script from SCM → choose Git → paste your repo URL → set Script Path: Jenkinsfile → Save → Build.



Common issues & quick fixes


Can’t access Jenkins at 8080


Ensure Docker Desktop is running and no other app uses port 8080. Change the port mapping in docker-compose.yml (e.g., - "9090:8080") then docker compose up -d again.




Plugin not found / Jenkins “offline”


Check your internet connection and any proxy. Go to Manage Jenkins → System to set proxy if needed.




sh: not found


The official Jenkins LTS image is Debian-based and has /bin/sh. If you switched to a Windows-based Jenkins image by mistake, switch back to jenkins/jenkins:lts.




Permissions on /var/run/docker.sock (when you later run Docker steps from Jenkins)


For this lab, we’re only generating static HTML, so it’s fine. If you add Docker build steps, add the Jenkins user to the docker group or run with proper permissions.




Reset Jenkins admin password


Stop Jenkins, remove the jenkins_home volume (this wipes Jenkins config!), and start again:
docker compose down
docker volume rm jenkins-static-site_jenkins_home
docker compose up -d






Clean up (when you’re done)
docker compose down
docker volume rm jenkins-static-site_jenkins_home


If you want, I can also give you a minimal Git repo structure (with Jenkinsfile, README, and a quickstart script) to clone and run directly.
